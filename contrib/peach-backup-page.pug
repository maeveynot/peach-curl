-
  function compareBy(transform) {
    return function(a, b) {
      var aKey = transform(a);
      var bKey = transform(b);
      if (aKey > bKey)
        return 1;
      else if (aKey < bKey)
        return -1;
      else // aKey == bKey
        return 0;
    }
  }

doctype html
html
  head
    meta(charset='utf-8')
    title= displayName
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css')
    style
      | .avatar { height: 1.5em; margin: 0.25em; float: left; }
      | .icon { color: white; background: gray; }
      | .post img.image, .post video { width: 100%; object-fit: contain; }
  body
    .jumbotron
      .container
        h1
          img.avatar(src=avatarSrc)
          = displayName
        p ðŸ‘ @#{name}
        p= bio
    .container
      .col-md-6.col-md-offset-3
        if months
          each month in months
            h2
              a(href=htmlBase + "-" + month + ".html") Posts for #{month}
        else
          each post in posts.sort(compareBy(function(p) { return p.createdTime; }))
            include peach-backup-post.pug
